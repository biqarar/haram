/** In the name Of Allah
 * Banoo 
 * @author ahmad karimi, reza mohiti, baravak
<<<<<<< HEAD
<<<<<<< HEAD
 * @version 0.1.0 2015-01-03
=======
 * @version 0.1.0 2015-01-04
>>>>>>> 7e8bd39ff373bd892ccea308c9a2690fdfb242b0
=======
 * @version 0.1.0 2015-01-13
>>>>>>> 7d76e7946320d76c7b636249836aea20732ba5ce
 */

function persian_nu(a,b){a=a.toString();var c=Array("۰","۱","۲","۳","۴","۵","۶","۷","۸","۹"),d=Array("0","1","2","3","4","5","6","7","8","9");return a=b?a.replace(/[۱۲۳۴۵۶۷۸۹۰]/gi,function(){return c.indexOf(arguments[0])}):a.replace(/\d/gi,function(){return c[d.indexOf(arguments[0])]}),/^\d+$/.test(a)&&(a=parseInt(a)),a}function addTab(a,b,c){var d=$("<li><a href='"+a+"'>"+b+"</a></li>");d.persian_nu(),$("#tabs").find(".ui-tabs-nav").append(d),c&&d.addClass("deactive-tab").addClass("ui-state-default"),c||$("#tabs").tabs("refresh"),setTabLI(d)}function setTabLI(a){var b=a.find("a");b.outerWidth()!==b[0].scrollWidth?a.addClass("dot3"):a.removeClass("dot3"),a.append('<span class="ui-icon ui-icon-close" role="presentation"></span>');var c=a.text();c=c.replace(/^\s*/,""),c=c.replace(/\s*$/,""),a.attr("title",c)}function aClickTabs(a){var b,c,d,e=$(this).attr("href"),f=$(this).text();if(!e)return!1;"_blank"==$(this).attr("target")&&(c=!0);var g=a.button||c||a.ctrlKey;if(g)addTab(e,f),b=$("#tabs .ui-tabs-nav > li").size()-1,d=$("#tabs>ul>li").eq(b).attr("aria-controls");else{b=$("#tabs").tabs("option","active");var h=$("#tabs>ul>li").eq(b).removeClass("loadContentAjax");d=$("#tabs>ul>li").eq(b).attr("aria-controls"),h.find("a").attr("href",e)}return g?$("#tabs").tabs({active:b}):($("#tabs").tabs("load",b),sls_pushState(null,f,e+"#"+d)),!1}function sls_pushState(a,b,c){history.pushState(a,b,c)}!function(a){a.fn.sautocomplate=function(){a(this).each(function(){var b=a(this).attr("data-url");if(b){var c=a(this).clone().removeAttr("id").removeAttr("name").attr("sautocomplate-for",a(this).attr("id")||a(this).attr("name")),d=this;a(this).after(c),a(this).hide(),c.autocomplete({source:function(c,d){a.ajax({url:b+"search="+c.term,dataType:"json",type:"post",success:function(a){return d(a.msg.list),!1}})},select:function(b,c){return a(d).val(c.item.id),this.value=c.item.label,!1},focus:function(a,b){return d.value=b.item.value,this.value=b.item.label,!1},minLength:1})}})}}(jQuery),function(a){a.widget("custom.combobox",{options:{change:!1,create:!1},_create:function(){this.element.addClass("notselect"),this.wrapper=a("<span>").addClass("custom-combobox").insertAfter(this.element),this.element.addClass("orginal-combo-box"),this.element.hide(),this._createAutocomplete(),this._createShowAllButton()},_createAutocomplete:function(){var b=this.element.children(":selected");value=b.val()?b.text():"",this.input=a("<input>").appendTo(this.wrapper).val(value).attr("title","").addClass("custom-combobox-input").autocomplete({delay:0,minLength:0,source:a.proxy(this,"_source")}).tooltip({tooltipClass:"ui-state-highlight"}),this._on(this.input,{autocompleteselect:function(a,b){this.options.change&&this.options.change.call(this,b),b.item.option.selected=!0,this._trigger("select",a,{item:b.item.option})},autocompletechange:"_removeIfInvalid"})},_createShowAllButton:function(){var b=this.input,c=!1;a('<span class="ui-icon ui-icon-triangle-1-s"></span>').appendTo(this.wrapper).mousedown(function(){c=b.autocomplete("widget").is(":visible")}).click(function(){b.focus(),c||b.autocomplete("search","")})},_source:function(b,c){var d=new RegExp(a.ui.autocomplete.escapeRegex(b.term),"i");c(this.element.children("option").map(function(){var c=a(this).text();return!this.value||b.term&&!d.test(c)?void 0:{label:c,value:c,option:this}}))},_removeIfInvalid:function(b,c){if(!c.item){var d=this.input.val(),e=d.toLowerCase(),f=!1;this.element.children("option").each(function(){return a(this).text().toLowerCase()===e?(this.selected=f=!0,!1):void 0}),f||(this.input.val("").attr("title","«"+d+"» در لیست موجود نیست").tooltip("open"),this.element.val(""),this._delay(function(){this.input.tooltip("close").attr("title","")},2500),this.input.autocomplete("instance").term="")}},_destroy:function(){this.wrapper.remove(),this.element.show()}})}(jQuery),function(a){a.fn.persian_nu=function(b){a(this).each(function(){var c=Array("۰","۱","۲","۳","۴","۵","۶","۷","۸","۹"),d=Array("0","1","2","3","4","5","6","7","8","9");for(n in a(this)[0].childNodes)if(!a(this).is(".notp")&&"#text"==a(this)[0].childNodes[n].nodeName){var e=a(this)[0].childNodes[n].textContent;if(b)var f=e.replace(/[۱۲۳۴۵۶۷۸۹۰]/gi,function(){return c.indexOf(arguments[0])});else var f=e.replace(/\d/gi,function(){return c[d.indexOf(arguments[0])]});a(this)[0].childNodes[n].textContent=f}})}}(jQuery),function(){function a(){var a,b,c=arguments;if(b=d.length++,"function"==typeof c[c.length-1]){a=c[c.length-1];for(var e=0;e<c.length-1;e++)d[b]||(d[b]=new Object,d[b].routes=new Array,d[b].fn=a),d[b].routes.push(c[e])}}function b(a,b){url=b[0];for(var e=0;e<d.length;e++){var f=d[e];for(var g in f.routes){var h=f.routes[g];"*"==h?c(a,f,b):"string"==typeof h&&h==url?c(a,f,b):"object"==typeof h&&h.test(url)&&c(a,f,b)}}}function c(a,b,c){var d=b.fn;d.apply(a,c)}var d=new Object;d.length=0,$(document).ready(function(){$(document).sroute()}),route=a,route_main=b}(),function(a){a.fn.sroute=function(b){var c=arguments;b=b?b:location.pathname,b=b.replace(/^\//,"").replace(/\/$/,""),c[0]=b,a(this).each(function(){route_main(this,c)})}}(jQuery),function(a){a.fn.sslider=function(){a(this).each(function(){var b=a(this);if(!a(this).next().is(".ui-sslider")){a(this).attr("placeholder","#");var c=parseInt(a(this).attr("max")),d=parseInt(a(this).attr("min")),e=a("<div></div>").addClass("ui-sslider");e.insertAfter(this).slider({value:parseInt(b.val())?parseInt(b.val()):0,slide:function(a,c){b.val(persian_nu(c.value))},max:c,min:d}),a(this).bind("keyup.sslider",function(){var a=persian_nu(this.value,!0);e.slider("option","value",/^[\d]+$/.test(a)?parseInt(a):0)})}})}}(jQuery),function(a){function b(){f&&f.remove()}function c(){f&&f.fadeOut(50,b)}function d(){f.append("<li>عملگری وجود ندارد</li>")}function e(e){b();var i=a(this).data("copire-data"),j=a(this).attr("copier-context-subject"),k=h[j],l=a("<ul></ul>").addClass("copire-contextmenu");if(f=l,l.appendTo("body"),k)for(var m=0;m<k.length;m++)if(k[m]){{var n=k[m],o=n.data("scontextmenu")[j],p=o.title.call(n),q=n.attr("id"),r=a("<li copier-aria-controls='"+q+"'>"+p+"</li>");a("#tabs").tabs("option","active")}r.appendTo(l),r[0].tabNav=a("#tabs>ul>li[aria-controls="+q+"]"),r[0].tabPanel=a("#tabs>div#"+q),r.bind("click",function(){if(a("#tabs>ul>li").css({opacity:1}),o.click){var b=o.click.call(a(this)[0].tabPanel,a(this),i,j);b!==!1&&c()}}).hover(function(){a("#tabs>ul>li").css({opacity:.2}),a(this)[0].tabNav.css({opacity:1})},function(){a("#tabs>ul>li").css({opacity:1})})}0==a(l).children("*").length&&d(),l.fadeIn("fast"),l.bind("contextmenu",function(){return!1}),l.bind("click",function(){g=!0}),l.css({top:e.pageY,left:e.pageX-l.outerWidth()})}var f,g=!1,h=new Object;a.fn.scopier=function(){a(this).unbind("contextmenu.scopier"),a(this).bind("contextmenu.scopier",function(a){return e.call(this,a),!1})},a.fn.sremovecontextmenu=function(){c(),a(this).data("scontextmenu",!1);for(var b in h)for(var d=0;d<h[b].length;d++)h[b][d]&&this[0]==h[b][d][0]&&delete h[b][d]},a.fn.scontextmenu=function(b){for(var c in b)h[c]||(h[c]=new Array),h[c].push(this);a(this).data("scontextmenu",b)},copiremenuehide=c,oncontextmenu=function(){a("[copier-context-subject]").scopier(),a(".slider-number").sslider(),a(this).each(function(){g||c(),g=!1})}}(jQuery),route("*",function(){$("*").unbind("click.scopier contextmenu.scopier"),$("*").bind("click.scopier contextmenu.scopier",oncontextmenu)}),function(){function a(a,b){var b="object"==typeof b?b:new Object;c?a.call():d.push(a),b.onState&&e.push(a.bind(!0))}function b(a){e.forEach(function(b){b(a)})}var c=!1,d=new Array,e=new Array;window.addEventListener("load",function(){c=!0,d.forEach(function(a){a()}),d=new Array}),ready=a,readyState=b}(),function(){function a(){b()}function b(){var a=h[0];$("#status-xhr")[0]?$("#status-xhr").attr("class","status-xhr-"+a.type).html(j+a.title):$('<div id="status-xhr" class="status-xhr-'+a.type+'">'+j+a.title+"</div>").appendTo("body"),h.shift(),0===h.length?setTimeout(function(){h.length?b():($("#status-xhr").remove(),i=!1)},1e3*g):setTimeout(b,1e3*g)}function c(b,c){h.push({title:b,type:c}),a()}function d(a){c(a,"error")}function e(a){c(a,"warn")}function f(a){c(a,"true")}var g=5,h=Array(),i=!1,j="";xhr_error=d,xhr_warn=e,xhr_true=f}(),route("*",function(){$(".dtable",this).each(function(){var a=this,b=$(this).attr("data-table-url"),c=Math.random().toString().replace(/^\d\./,"");$(this).on("draw.dt",function(){$(".dataTables_info").persian_nu(),$(".dataTables_paginate a").persian_nu();var c=$("select[aria-controls^='DataTables_Table']");c.persian_nu(),c.selectmenu("instance")&&c.selectmenu("destroy"),readyState($(a)),$(a).sroute(b)}).dataTable({processing:!0,serverSide:!0,ajax:b+"session="+c,language:{processing:"درحال بارگذاری",search:"جستجو:",lengthMenu:"مقدار _MENU_ سطر",info:"مقدار _START_ تا _END_ از _TOTAL_ سطر",infoEmpty:"هیچ سطری یافت نشد",infoFiltered:"(مقدار _MAX_ بدون فیلتر)",infoPostFix:"",loadingRecords:"درحال بارگذاری...",zeroRecords:"هیچ سطری یافت نشد",emptyTable:"هیچ سطری یافت نشد",paginate:{first:"نخست",previous:"قبلی",next:"بعدی",last:"آخرین"},aria:{sortAscending:": مرتب سازی صعودی",sortDescending:": مرتب سازی نزولی"}},order:[[0,"asc"]],lengthMenu:[[10,25,50],[10,25,50]],createdRow:function(a,b){$(a).data("copire-data",b),$("*",a).persian_nu()}})})}),function(a){a.fn.ajx=function(b){function c(){h.elements.each(function(){a(this).is("a")?(a(this).unbind("click.state"),a(this).unbind("click.ajx"),a(this).bind("click.ajx",function(){try{e({base:this,url:a(this).attr("href")})}catch(b){console.log(b.stack)}return!1})):a(this).is("form")&&(a(this).unbind("click.ajx"),a(this).bind("submit.ajx",function(){try{f({base:this,url:a(this).attr("action"),data:d.call(this)})}catch(b){console.log(b.stack)}return!1}))})}function d(){var b=new FormData;return a(this).find("select, input, button, textarea").each(function(){var c=!1,d=this.name;if(a(this).is(":file")){var e=a(this)[0].files;if(a(this).attr("multiple"))for(var f=0;f<e.length;f++)b.append(d+"[]",e[f]);else b.append(d,e[0])}else c=a(this).is(":radio, :checkbox")?a(this).is(":checked")?this.value:!1:this.value;c!==!1&&b.append(d,c)}),b}function e(c){function d(a){b.after&&b.after(a,c.base,"nav"),b.error&&b.error(a,c.base,"nav")}b.before&&b.before(c.base,"nav"),a.get(c.url,function(e){b.after&&b.after(arguments[2],c.base,"nav");var e;try{e=a.parseJSON(e),1===e.status?(b.success(e),g(e,c.base)):d(arguments[2])}catch(f){d(arguments[2])}}).error(d)}function f(c){function d(a){b.error&&b.error(a,c.base,"form")}b.before&&b.before(c.base,"form");var e=a('<span class="uploadPerload"></span>'),f=a(c.base).find(":submit:eq(0)");f.addClass("btn-default"),f.css({position:"relative",overflow:"hidden"}),e.appendTo(f);a.ajax({type:"POST",processData:!1,contentType:!1,xhr:function(){var b=a.ajaxSettings.xhr();return b&&b.upload.addEventListener("progress",function(b){var c=b.totalSize/1048576,d=b.position/1048576;d=100*d/c,e.css("width",d+"%"),a(".progress-bar").css("width",d+"%"),100==d&&(e.addClass("stateUPerlaod"),e.removeClass("uploadPerload"))},!1),b},url:c.url,data:c.data}).complete(function(e){if(b.after&&b.after(e,c.base,"form"),200==e.status)try{var f=a.parseJSON(e.responseText);1===f.status?b.success&&(b.success(f,c.base),g(f,c.base)):d(e,c.base)}catch(h){d(e,c.base)}}).error(function(a){d(a,c.base)})}function g(b,c){a(c).data("ajxCallBack")&&a(c).data("ajxCallBack").call(c,b)}var h=new Object;return h.elements=this,c(),h},a.fn.ajxCall=function(b){"function"==typeof b&&a(this).data("ajxCallBack",b)},a.fn.ajxOptions=function(b){a(this).data("ajxOptions",b)}}(jQuery);var O={before:function(a,b){if("form"==b)$(a).find("select, input, button, textarea").attr("disabled","disabled");else if("nav"==b){$("<span class='statePerlaod'></span>").appendTo($(a))}},after:function(a,b,c){"form"==c?($(b).find(".stateUPerlaod").remove(),$(b).find(".uploadPerload").remove(),$(b).find("select, input, button, textarea").removeAttr("disabled")):"nav"==c&&$(b).children(".statePerlaod").remove();var d=a.responseText;try{d=$.parseJSON(d)}catch(e){}if(d.msg&&d.msg.captcha){var f=$(b).find("img[src='captcha.png']");f.attr("src","captcha.png?cid"+Math.random())}},success:function(a,b){var c=$(b).parents(".ui-tabs-panel");(!$(b).data("ajxOptions")||$(b).data("ajxOptions")&&0!=$(b).data("ajxOptions").reset)&&$(b)[0].reset(),c.find(".submit-status").remove();var d=$('<div class="submit-status"></div>');d.insertAfter($(b));var e,f;for(e in a)if(/^(true|warn)$/i.test(e)){f=$('<ul class="submit-status-'+e+'"></ul>'),f.appendTo(d);for(cStatus in a[e])/^\d+$/.test(cStatus)&&("object"==typeof a[e][cStatus]?$("<li>"+a[e][cStatus].error+"</li>").appendTo(f):$("<li>"+a[e][cStatus]+"</li>").appendTo(f))}},error:function(a,b){if(0!=a.status){var c;try{c=$.parseJSON(a.responseText)}catch(d){c=a.responseText,console.error(c)}var e=$(b).parents(".ui-tabs-panel");e.find(".submit-status").remove();var f=$('<div class="submit-status"></div>');f.insertAfter($(b));var g,h;for(g in c)if(/^(fatal)$/i.test(g)){h=$('<ul class="submit-status-'+g+'"></ul>'),h.appendTo(f);for(cStatus in c[g])/^\d+$/.test(cStatus)&&("object"==typeof c[g][cStatus]?$("<li>"+c[g][cStatus].error+"</li>").appendTo(h):$("<li>"+c[g][cStatus]+"</li>").appendTo(h))}}}};ready(function(a){a?a.find(".ajx").ajx(O):$(".ajx").ajx(O)},{onState:!0}),$(document).ready(function(){function a(){var a=$(window).height()+150,b=a-parseInt($(".menu").css("height"));b/=2,$(".menu").css("top",b),$("#tabs>div").css("min-height",$(window).height()-225+"px")}$.ajaxSetup({cache:!1}),a(),$(window).resize(function(){a()}).scroll(function(){a()}),$(".menu>div").each(function(){$(this).mouseover(function(){$(this).children(".dropdown").stop().fadeIn(200)}).mouseout(function(){$(this).children(".dropdown").stop().fadeOut(200)})}),$("#tabs a").each(function(){if(/^#/.test($(this).attr("href"))){var a=location.pathname+$(this).attr("href");$(this).attr("href",a)}});var b=$("#tabs").tabs({beforeActivate:function(a,b){var c=b.newTab.attr("aria-controls");if(activeState=location.hash.replace(/\#/,""),/^\/?portal\/(.*)$/.test(b.newTab.find("a").attr("href"))){var d=b.newTab.find("a").attr("href");sls_pushState(null,b.newTab.find("a").text(),d.match(/^\/?portal\/(.*)#(.*)$/)[1]+"#"+c)}else if(activeState!=c){var e=b.newTab.find("a").attr("href");e=e.replace(/^\.?\/?/,""),e=e.replace(/\/$/,""),sls_pushState(null,b.newTab.find("a").text(),e+"#"+c)}},beforeLoad:function(b,c){return copiremenuehide(),a(),c.tab.is(".loadContentAjax")?!1:($(c.panel[0]).sremovecontextmenu(),c.panel.html('<embed src="static/svg/logo-animation.svg" class="perload-svg" height="150" type="image/svg+xml" />'),c.jqXHR.fail(function(){c.panel.text("قادر به نمایش این صفحه نمی باشیم.")}),void(c.panel.html=function(b){c.tab.addClass("loadContentAjax");var d=$("<span>"+b+"</span>").find("#global");d=d.text();try{d=$.parseJSON(d),c.tab.find("a").html(d.page_title),c.tab.find("a").persian_nu(),$("title").text(d.page_title),setTabLI(c.tab)}catch(e){d=!1}var f=$("<span>"+b+"</span>").find("#content");$(this).html(f),readyState($(this)),$(this).sroute(c.tab.find("a")[0].pathname),a()}))},activate:function(a,b){$("title").text(b.newTab.find("a").text())}});b.find(".ui-tabs-nav li").each(function(){setTabLI($(this))}),b.find(".ui-tabs-nav").sortable({distance:30,tolerance:"pointer",opacity:.7,sort:function(){},placeholder:"x4",start:function(a,b){b.item.is(".ui-tabs-active")&&$(".x4").addClass("active")},stop:function(a,c){c.item.css("z-index",""),c.item.css("opacity",0),c.item.fadeTo("fast",1),b.tabs("refresh")}}),b.delegate("span.ui-icon-close","click",function(){var a=$(this).closest("li").fadeOut("fast",function(){$(this).remove()}).attr("aria-controls");$("#"+a).fadeOut("fast",function(){$(this).sremovecontextmenu(),$(this).remove(),b.tabs("refresh")})}),$("#tabs>ul").droppable({accept:"a",drop:function(a,b){$(".deactive-tab").remove();var c=b.draggable.attr("href"),d=""!=b.draggable.text()?b.draggable.text():""!=b.draggable.attr("title")?b.draggable.attr("title"):"...";addTab(c,d)},over:function(a,b){addTab("#",b.helper.text(),!0)},out:function(){$(".deactive-tab").remove()}})}),window.onpopstate=function(){var a,b=$("#tabs").tabs("option","active"),c=location.hash.replace(/\#/,"");if(c){var d=$("[aria-controls="+c+"]");a=d.length>0?d.index():0}else a=0;if($("#tabs").tabs({active:a}),a==b){href=location.href,href=href.replace(/\#(.*)$/,""),$("#tabs>ul>li").eq(a).find("a").attr("href",href);var d=$("#tabs>ul>li").eq(a).removeClass("loadContentAjax");$("#tabs").tabs("load",a)}},$(function(){var a=".filebox",b=".filebox-close",c=null,d=null;$.fn.filebox=function(){d=$(this),c=$(this).next(c),c.ajxCall(function(a){$(this).find("[name=base]").val(a.msg.base),$(this).fileboxClose(a)}),c.find(b).click(function(){$(this).parents("form").fileboxClose()}),d.find(a).fileboxShow()},$.fn.fileboxClose=function(a){var b=$(this).prev("form");a&&d.onFiles(a),$(this).hide(),b.fadeIn("fast")},$.fn.fileboxShow=function(){$(this).click(function(){var a=$(this).parents("form").next("form");$(this).parents("form").hide(),a.fadeIn("fast",function(){$(this).find("input[type='text']")[0].focus()})})},$.fn.onFiles=function(a){if("function"==typeof a)$(this).data("onFiles",a);else if($(this).data("onFiles")){var b=$(this).data("onFiles");b.call(this,a)}}}),ready(function(a){function b(){"single"==a.find(".marriage-form:checked").val()?a.find(".children-form").attr("disabled","disabled"):a.find(".children-form").removeAttr("disabled")}a=a?a:$("body"),a.find("a").not(".ui-tabs-anchor, .a-undefault").draggable({helper:"clone",snap:"#tabs>ul",distance:20}).bind("click",aClickTabs),a.find(".ajx").filebox(),a.find(".posts-form-options").onFiles(function(a){var b=a.msg.publicAddr?a.msg.publicAddr:a.msg.fileAddr+"."+a.msg.type;console.log(b),$(this).find(".img-preview").attr("src",b);var c=this;if($(this).find("#postImg").val(a.msg.id),$(this).find(".img-preview").data("Jcrop")){var d=$(this).find(".img-preview").data("Jcrop");d.destroy()}$(this).find(".img-preview").Jcrop({onChange:function(a){imageChangeSize.call(c,a)},onSelect:function(a){imageChangeSize.call(c,a)},aspectRatio:1,setSelect:[0,0,100,100],bgColor:"#00bbec"},function(){$(c).data("Jcrop",this)})}),a.find("#tabs, #tabs li a.ui-tabs-anchor").scroll(function(){this.scrollLeft=9e3}),a.find("input[date=date]").each(function(){var a=this;$(this).persianDatepicker({formatDate:"YYYY-MM-DD",isRTL:!1,onSelect:function(){if(a.callBackDate){var b=a.callBackDate;b.call(a)}}})}),a.find("input[time=time]").clockpicker(),a.find("*:not(style)").persian_nu(),a.find("select:not([name=data_table_length], .notselect)").selectmenu(),$("input[name='pasport_date'],label[for='pasport_date']").hide(),a.find(".select-nationality").on("selectmenuchange",function(a,b){97!=b.item.value?($(this).parents("form").find(".select-city").attr("disabled","disabled").selectmenu("refresh"),$(this).parents("form").find("input[name='pasport_date'],label[for='pasport_date']").fadeIn(200)):($(this).parents("form").find(".select-city").removeAttr("disabled").selectmenu("refresh"),$(this).parents("form").find("input[name='pasport_date'],label[for='pasport_date']").fadeOut(200))}),b(),a.find(".marriage-form").change(b)},{onState:!0}),ready(function(){$("#perload-blockoff").remove()}),route(/absence\/status=classeslist\/classesid=\d+/,function(){function a(a){return a=a.split("-"),4==a[0].length&&(y=a[0]),2!=a[1].length&&(m="0"+a[1]),2!=a[2].length&&(d="0"+a[2]),y+""+m+d}$(".absence-date-main")[0].callBackDate=function(){date=a($(this).val())},$("a.insertAbsenceApi",this).click(function(){return"undefined"==typeof date?(xhr_error("تاریخ انتخاب نشده است"),!1):(classification=$(this).attr("classification"),classesid=$(this).attr("classesid"),_self=$(this),$.ajax({type:"POST",url:"absence/api/classification="+classification+"/date="+date,success:function(a){a.fatal?(xhr_error(a.fatal[0]),$(_self).removeClass("icodadd").addClass("icoredclose deleteAbsenceApi")):a.warn?xhr_warn(a.warn[0]):($(_self).removeClass("icodadd").addClass("icoredclose"),xhr_true(a["true"][0]))}}),!1)}),$("a.deleteAbsenceApi",this).click(function(){return"undefined"==typeof date?(xhr_error("تاریخ انتخاب نشده است"),!1):(classification=$(this).attr("classification"),classesid=$(this).attr("classesid"),_self=$(this),$.ajax({type:"POST",url:"absence/api/classification="+classification+"/date="+date,success:function(a){a.fatal?(xhr_error(a.fatal[0]),$(_self).removeClass("icodadd").addClass("icoredclose")):a.warn?xhr_warn(a.warn[0]):($(_self).removeClass("icodadd").addClass("icoredclose"),xhr_true(a["true"][0]))}}),!1)})}),route(/portal\/classes\/status=(add|edit)/,function(){$(".select-plan",this).combobox(),$(".select-place",this).combobox(),$("#teachername",this).sautocomplate()}),route(/portal\/(person|teacher)\/extera\/status\=(add|edit)\//,function(){$("#from",this).sautocomplate()}),route(/portal\/person\/status=(add|edit)/,function(){var a=this;$("#from",this).sautocomplate();var b=function(b){97!=b?$("#from",a).next().attr("disabled","disabled"):$("#from",a).next().removeAttr("disabled")},c={change:function(a){b(a.item.option.value)},create:function(){b(this.value)}};$("#nationality",this).combobox(c),$("#education_id",this).combobox()}),route(/portal\/person\/status=edit/,function(){$(".ajx",this).ajxOptions({reset:!1})}),route("*",function(){$(".slider-number").sslider()}),route(/price/,function(){$("#users_id",this).sautocomplate(),$("#title",this).combobox()}),route(/score/,function(){$("#plan_id",this).combobox()}),route(/score\/classes\/status=apilist\/classesid=\d+\/scoretypeid=\d+/,function(){function a(a){console.log(a)}$(".score-mark",this).blur(function(){$(this).attr("disabled","disabled")}),$("a.insertAbsenceApi",this).click(function(){return console.log("fuck, fuck"),a(this),a("fuck"),a(1),"undefined"==typeof date?(xhr_error("تاریخ انتخاب نشده است"),!1):(classification=$(this).attr("classification"),classesid=$(this).attr("classesid"),$.ajax({type:"POST",url:"absence/api/classification="+classification+"/date="+date,success:function(a){a.fatal?xhr_error(a.fatal[0]):a.warn?xhr_warn(a.warn[0]):xhr_true(a["true"][0])}}),!1)})}),route("users/status=api",function(){$("tbody>tr",this).attr("copier-context-subject","user")}),route(/classification\/class\/classesid\=\d+/,function(){var a;a="#document"==this.nodeName?$("#tabs>div").eq(0):$(this),a.scontextmenu({user:{click:function(){var a=$(this).attr("id"),b=$("#tabs>ul>li[aria-controls='"+a+"'] a"),c=b.attr("href"),d=arguments[1][9],e=(arguments[1][0]+" "+arguments[1][1],b.text(),c.match(/classesid=(\d+)#?.*$/)[1]),f="classification/api/usersid="+d+"/classesid="+e;b.removeClass("copier-true").removeClass("copier-error").addClass("copier-load"),$.ajax({type:"POST",url:f,success:function(a){a.fatal?xhr_error(a.fatal[0]):a.warn?xhr_warn(a.warn[0]):xhr_true(a["true"][0])}})},title:function(){var a=$(this).attr("id"),b=$("#tabs>ul>li[aria-controls='"+a+"'] a");return"ثبت در "+b.text()}}})});
//# sourceMappingURL=banoo.min.js.map
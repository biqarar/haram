{%- macro child(childs) -%}
{% import _self as tag%}
	{%-for child in childs-%}
		{{-tag.make(child)-}}
	{%-endfor-%}
{%- endmacro -%}


{%- macro make(array) -%}
{% import _self as tag%}
<{{array.tagName}} {% for attr,value in array.attr%}{{attr}}="{{value}}" {% endfor %}>
	{{-array.text-}}
	{{-tag.child(array.childs)-}}
</{{array.tagName}}>
{%- endmacro -%}


{%- macro list(array) -%}
{% import _self as tag%}
<table class="table-list" >
	<tr>
		{%for header in array.header%}
		<th>{{header}}</th>
		{%endfor%}
	</tr>
	{%for alist in array.list%}
	<tr>
		{%for child in alist%}
			{% if child is iterable %}
				<td>{{tag.make(child)}}</td>
			{% else %}
				<td>{{child|lang}}</td>
			{% endif %}
		{%endfor%}
	</tr>
	{%endfor%}
</table>
{%- endmacro -%}


{%- macro detail(array) -%}
{% import _self as tag%}
<table class="table-list">
	{% for key, link in array.list %}
		{% for k, li in array['list'][key] %}
			{% if k != 'id' %}
				{% if k != 'users_id' %}
					<tr>
						<th>{{k|lang}}</th>
						<td>{{li|lang}}</td>
					</tr>
				{%endif%}		
			{%endif%}
		{%endfor%}
	{%endfor%}
</table>
{%- endmacro -%}


{%- macro card(array) -%}
{% import _self as tag%}
{% if array %}
	<div class="right">
		<div class="detail-card">
			<div class="detail-card-body">
				<div class="detail-card-title">{{array.title|lang}}</div>
				
				<div class="detail-card-content">
					{{-tag.detail(array.list)-}}
				</div>
				
				<div class="detail-card-footer">
					{% if array.moreLink %}
						<a href="{{array.moreLink}}"  class="ico icomore" style="float:left; margin-right: 5px;"></a>
					{%endif%}
					{% if array.addLink %}
						<a href="{{array.addLink}}"  class="ico icoadd" style="float:left; margin-right: 5px;"></a>
					{%endif%}
					{% if array.editLink %}
						<a href="{{array.editLink}}"  class="ico icoedit" style="float:left; margin-right: 5px;"></a>
					{%endif%}
					<div style="clear:both;"></div>
				</div>
			</div>
		</div>
	</div>
{%endif%}
{%- endmacro -%}